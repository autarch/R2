<div id="summary">
  <h1><& SELF:title, %ARGS &></h1>
</div>

<&| /lib/filter/form.mas &>
<form class="JS-standard-form" action="<% $c->uri_for('/person') %>" method="post"
      enctype="multipart/form-data">

  <fieldset>
    <legend>The Basics</legend>

    <div class="form-item">
      <label class="for-field" for="salutation">Salutation:</label>
      <input type="text" class="text narrow" name="salutation" id="salutation" />
      <div class="help-text">
        <p>
          Mr., Ms., Dr., etc.
        </p>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" for="first_name">First name:</label>
      <input type="text" class="text" name="first_name" id="first_name" />
    </div>

    <div class="form-item">
      <label class="for-field" for="middle_name">Middle name:</label>
      <input type="text" class="text" name="middle_name" id="middle_name" />
    </div>

    <div class="form-item">
      <label class="for-field" for="last_name">Last name:</label>
      <input type="text" class="text" name="last_name" id="last_name" />
    </div>

    <div class="form-item">
      <label class="for-field" for="suffix">Name suffix:</label>
      <input type="text" class="text narrow" name="suffix" id="suffix" />
      <div class="help-text">
        <p>
          Jr., Esq., etc.
        </p>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" for="birth_date">Birth date:</label>
      <input type="text" class="text narrow date" name="birth_date" id="birth_date" />
      <input type="hidden" name="date_format" value="<% $c->user()->date_format() %>" />
      <div class="help-text">
        <p>
          <% $c->user()->date_format() %>
        </p>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" for="last_name">Gender:</label>
      <select name="gender">
        <option value="">-- pick a gender --</option>
% for my $value ( @{ R2::Schema::Person->GenderValues() } ) {
        <option value="<% $value %>"><% $value %></option>
% }
      </select>
    </div>

    <div class="form-item">
      <label class="for-field" >Mail is ok?</label>
      <div class="radio-group">
        <input type="radio" class="radio" name="allows_mail" id="allows_mail-yes" value="1" checked="checked" />
        <label class="for-radio selected" for="allows_mail-yes" id="for-allows_mail-yes">Yes</label>
        <input type="radio" class="radio" name="allows_mail" id="allows_mail-no" value="0" />
        <label class="for-radio" for="allows_mail-no" id="for-allows_mail-no">No</label>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" >Calls are ok?</label>
      <div class="radio-group">
        <input type="radio" class="radio" name="allows_phone" id="allows_phone-yes" value="1" checked="checked" />
        <label class="for-radio selected" for="allows_phone-yes" id="for-allows_phone-yes">Yes</label>
        <input type="radio" class="radio" name="allows_phone" id="allows_phone-no" value="0" />
        <label class="for-radio" for="allows_phone-no" id="for-allows_phone-no">No</label>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" >Trading is ok?</label>
      <div class="radio-group">
        <input type="radio" class="radio" name="allows_trade" id="allows_trade-yes" value="1" />
        <label class="for-radio" for="allows_trade-yes" id="for-allows_trade-yes">Yes</label>
        <input type="radio" class="radio" name="allows_trade" id="allows_trade-no" value="0" checked="checked" />
        <label class="for-radio selected" for="allows_trade-no" id="for-allows_trade-no">No</label>
      </div>

      <div class="help-text">
        <p>
          Can this contact be traded to other organizations?
        </p>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" for="image">Image:</label>
      <input type="file" class="file" name="image" id="image" />

      <div class="help-text">
        <p>
          A GIF, JPG, or PNG. Images will be resized so they are no larger than 100x100.
        </p>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" for="note">Note:</label>
      <textarea class="short wide"></textarea>
    </div>

  </fieldset>

<& /lib/form/contact-email-website.mas &>

<& /lib/form/contact-phone-numbers.mas &>

<& /lib/form/contact-addresses.mas &>

  <div class="form-item">
    <input class="submit" type="submit" value="Submit" />
  </div>

</form>
</&>

<%method title>
Add a new person
</%method>
