<div id="summary">
  <h1><& SELF:title, %ARGS &></h1>
</div>

<&| /lib/filter/form.mas &>
<form class="JS-standard-form"
      action="<% $c->account()->uri( view => 'person' ) %>"
      method="post"
      enctype="multipart/form-data">

  <fieldset>
    <legend>The Basics</legend>

    <div class="form-item">
      <label class="for-field" for="salutation">Salutation:</label>
      <input type="text" class="text narrow" name="salutation" id="salutation" />
      <div class="help-text">
        <p>
          Mr., Ms., Dr., etc.
        </p>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" for="first_name">First name:</label>
      <input type="text" class="text" name="first_name" id="first_name" />
    </div>

    <div class="form-item">
      <label class="for-field" for="middle_name">Middle name:</label>
      <input type="text" class="text" name="middle_name" id="middle_name" />
    </div>

    <div class="form-item">
      <label class="for-field" for="last_name">Last name:</label>
      <input type="text" class="text" name="last_name" id="last_name" />
    </div>

    <div class="form-item">
      <label class="for-field" for="suffix">Name suffix:</label>
      <input type="text" class="text narrow" name="suffix" id="suffix" />
      <div class="help-text">
        <p>
          Jr., Esq., etc.
        </p>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" for="birth_date">Birth date:</label>
      <input type="text" class="text narrow date" name="birth_date" id="birth_date" />
      <input type="hidden" name="date_format" value="<% $c->user()->date_format() %>" />
      <div class="help-text">
        <p>
          <% $c->user()->date_format() %>
        </p>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" for="last_name">Gender:</label>
      <select name="gender">
        <option value="">-- pick a gender --</option>
% for my $value ( @{ R2::Schema::Person->GenderValues() } ) {
        <option value="<% $value %>"><% $value %></option>
% }
      </select>
    </div>

<& /lib/form/contact-ok-fields.mas &>

    <div class="form-item">
      <label class="for-field" for="image">Image:</label>
      <input type="file" class="file" name="image" id="image" />

      <div class="help-text">
        <p>
          A GIF, JPG, or PNG. Images will be resized so they are no larger than 100x100.
        </p>
      </div>
    </div>

    <div class="form-item">
      <label class="for-field" for="note">Notes:</label>
      <textarea class="short wide"></textarea>
    </div>

  </fieldset>

<& /lib/form/contact-email-website.mas &>

<& /lib/form/contact-phone-numbers.mas, contact_type => 'person' &>

<& /lib/form/contact-addresses.mas, contact_type => 'person' &>

  <div class="form-item">
    <input class="submit" type="submit" value="Submit" />
  </div>

</form>
</&>

<%method title>
Add a new person
</%method>
